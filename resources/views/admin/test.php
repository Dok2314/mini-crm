Краткое описание:
Разработать мини-CRM для сбора и обработки заявок с сайта через универсальный виджет.
Сущности и их поля:
• User (менеджер/админ)
Имя
Электронная почта
Пароль
• Customer (клиент)
о Имя
• Номер телефона (Е.164)
Электронная почта
• Ticket (заявка)
• Клиент (связь с Customer)
Тема
Текст
• Статус (новый/в работе/обработан)
• Дата ответа от менеджера
• File (файлы) - только через spatie/laravel-medialibrary (файлы привязываются к заявке).
Основные требования:
•
Проект покрыть migrations, factories и seeders для User, Customer, Ticket (с тестовыми данными, включая менеджера и несколько заявок).
•
Для ролей использовать spatie/laravel-permission.
Вся логика - через сервисы/репозитории, минимальная логика в контроллерах.
•
•
•
Валидация всех входящих данных - только через FormRequest (например, для телефона - Е.164).
Код должен быть полностью соответствовать SOLID, MVC, KISS, DRY, PSR-12
Использовать git, каждый этап - отдельный коммит (чистая история).
Виджет (Blade-страница):
•
Реализовать отдельный маршрут /widget (или /feedback-widget) - Blade-страница с формой обратной связи для клиентов.
•
Виджет должен быть стилизован и готов для встраивания на другие сайты через <iframe
    src="https://your-domain.com/widget"></iframe>.
•
Вся логика отправки формы - через AJAX (REST API: /api/tickets).
•
На странице - обработка ошибок и успешной отправки, отображение сообщений пользователю.
API и административная часть:
• API (Все ответы оформлять через API Resource):
• POST /api/tickets - создание заявки
• GET /api/tickets/statistics - статистика заявок (сутки, неделя, месяц)
• Для расчета использовать Carbon и Eloquent scopes.
• Админ-панель (Blade UI, только для менеджера):
• Просмотр списка заявок, фильтрация по дате, статусу, email, телефону.
• Просмотр деталей заявки (со всеми файлами, ссылками на скачивание).
Возможность смены статуса заявки.
Технические детали:
•
Чистый, структурированный проект на Laravel 12, PHP 8.4
•
Весь функционал разбить на отдельные классы (сервисы, репозитории, модели, ресурсы и т.д.).
•
README.md с полной инструкцией по запуску, списком тестовых данных, примером вставки виджета (iframe), примерами API.



<iframe src="https://your-domain.com/widget" width="400" height="600" style="border:none;"></iframe>
